(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[0],{23:function(e,t,n){},29:function(e,t,n){e.exports=n(42)},38:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(15),o=n.n(a),i=n(7),u=n(11),s=n(25),l=n(28),m=n(12),f="FETCH_CURRENCIES";function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currencyList:[],isError:!1,isLoading:!1,base:"USD",selections:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return b({},e,{currencyList:t.data});case"LOAD_CURRENCIES":return b({},e,{isLoading:t.isLoading});case"SET_CURRENCIES_LOAD_ERROR":return b({},e,{isError:t.isError});case"SET_BASE_CURRENCY":return b({},e,{base:t.base});case"ADD_SELECTED_CURRENCY":return b({},e,{selections:[].concat(Object(l.a)(e.selections),[t.selected])});case"REMOVE_SELECTED_CURRENCY":return b({},e,{selections:e.selections.filter((function(e){return e!==t.removed}))});default:return e}};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DATA_TEMPLATE":return p({},e,{data:t.data});case"LOAD_DATA_TEMPLATE":return p({},e,{isLoading:t.isLoading});default:return e}},y=Object(u.c)({converter:v,dataTemplate:d}),j=JSON.parse(localStorage.getItem("initLocalStorageCurrency"))||{},_=Object(u.d)(y,j,Object(u.a)(s.a,(function(e){return function(t){return function(n){t(n),localStorage.setItem("initLocalStorageCurrency",JSON.stringify(e.getState()))}}}))),g=n(13),h=n(10),S=n(26),C=n(2),L=(n(38),Object(r.memo)((function(e){var t=e.base,n=e.fetchCurrency,a=e.currencyList,o=Object(r.useState)(t),i=Object(C.a)(o,2),u=i[0],s=i[1];return c.a.createElement("div",{className:"top-menu"},c.a.createElement("div",{className:"container top-menu__container"},c.a.createElement("div",{className:"top-menu__links-list"},c.a.createElement(g.b,{activeClassName:"top-menu__link--active",className:"top-menu__link",to:"/",exact:!0},"Converter"),c.a.createElement(g.b,{activeClassName:"top-menu__link--active",className:"top-menu__link",to:"/currencies"},"Currencies"),c.a.createElement(g.b,{activeClassName:"top-menu__link--active",className:"top-menu__link",to:"/both"},"Both")),c.a.createElement("div",null,c.a.createElement("select",{className:"control",value:u,onChange:function(e){var t=e.target.value;n(t),s(t)}},a.map((function(e){return c.a.createElement("option",{value:e,key:e},e)}))))))}))),N=function(e){return e.converter},T=function(e){return N(e).isLoading},D=function(e){return N(e).base},R=function(e){return N(e).isError},w=function(e){return N(e).currencyList},P=function(e){return N(e).selections},k=function(e){return e.dataTemplate.isLoading},A=function(e){return e.dataTemplate.data},U=function(e){return A(e)?A(e).currency:null},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/currency-converter".concat("/");return e.startsWith("http")?e:t.concat(e)};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var x=function(e){return{type:"LOAD_CURRENCIES",isLoading:e}},B=function(e){return{type:"SET_CURRENCIES_LOAD_ERROR",isError:e}},M=function(e){return function(t){t({type:"SET_BASE_CURRENCY",base:e})}};function Y(e){return function(t,n){var r=n(),c=U(r),a=e||D(r);t(x(!0)),fetch(c?I(c):null).then((function(e){return e.json()})).then((function(e){var n="USD"===a?e.rates:Object.entries(e.rates).reduce((function(t,n){var r=Object(C.a)(n,2),c=r[0],o=r[1];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,Object(m.a)({},c,o/e.rates[a]))}),{});t({type:f,data:n}),t(B(!1)),t(M(a||e.base))})).catch((function(){return t(B(!0))})).finally((function(){return t(x(!1))}))}}var H=Object(i.b)((function(e){return{base:D(e),currencyList:Object.keys(w(e))}}),{fetchCurrency:Y})((function(e){return c.a.createElement(L,e)})),J=function(e){var t=e.children,n=e.fetchDataTemplate,a=e.fetchCurrency,o=e.isTemplateLoading,i=(e.dataTemplate,e.converterIsLoading),u=e.converterIsError;return Object(r.useEffect)((function(){n()}),[]),Object(r.useEffect)((function(){!o&&a()}),[o]),c.a.createElement(c.a.Fragment,null,!o&&!i&&c.a.createElement(c.a.Fragment,null,u?c.a.createElement("button",{className:"control",onClick:a},"Reload Currencies"):c.a.createElement(c.a.Fragment,null,c.a.createElement("header",null,c.a.createElement(H,null)),t)))},W=function(e){return{type:"LOAD_DATA_TEMPLATE",isLoading:e}},q=Object(i.b)((function(e){return{isTemplateLoading:k(e),dataTemplate:A(e),converterIsLoading:T(e),converterIsError:R(e)}}),{fetchCurrency:Y,fetchDataTemplate:function(){return function(e){e(W(!0)),fetch(I("data.json")).then((function(e){return e.json()})).then((function(t){e({type:"FETCH_DATA_TEMPLATE",data:t}),e(W(!1))}))}}})((function(e){var t=e.children,n=Object(S.a)(e,["children"]);return c.a.createElement(J,n,t)})),V=(n(23),Object(r.memo)((function(e){var t=e.currencyList,n=e.select,r=e.setSelect;return c.a.createElement("select",{className:"control",value:n,onChange:function(e){var t=e.target;return r(t.value)}},Object.entries(t).map((function(e){var t=Object(C.a)(e,1)[0];return c.a.createElement("option",{value:t,key:t},t)})))}))),$=function(e){var t=e.currencyList,n=e.converterBase,a=Object(r.useState)(n||"USD"),o=Object(C.a)(a,2),i=o[0],u=o[1],s=Object(r.useState)("USD"),l=Object(C.a)(s,2),m=l[0],f=l[1],E=Object(r.useState)(0),b=Object(C.a)(E,2),v=b[0],O=b[1],p=Object(r.useState)(0),d=Object(C.a)(p,2),y=d[0],j=d[1];return Object(r.useEffect)((function(){j(v*(t[n]/t[i]*t[m]))}),[i,t,m,n,v,y]),c.a.createElement("div",{className:"converter"},c.a.createElement("div",{className:"converter__container container"},c.a.createElement("h3",{className:"converter__title"},"Currency Converter"),c.a.createElement("div",{className:"converter__from"},"Currency I Have:",c.a.createElement("div",null,c.a.createElement("input",{className:"control",type:"number",onChange:function(e){var t=e.target;O(t.value)},value:v}),c.a.createElement(V,{currencyList:t,select:i,setSelect:u}))),c.a.createElement("div",{className:"converter__to"},"Currency I Want:",c.a.createElement("div",null,c.a.createElement("input",{className:"control",readOnly:!0,value:y}),c.a.createElement(V,{currencyList:t,select:m,setSelect:f})))))},z=Object(i.b)((function(e){return{currencyList:w(e),converterBase:D(e)}}),{})((function(e){return c.a.createElement($,e)})),G=(n(40),Object(r.memo)((function(e){var t=e.currency,n=e.value,a=e.base,o=e.addToSelected,i=e.removeFromSelected,u=e.selections,s=e.className,l=Object(r.useState)(!!u.includes(t)),m=Object(C.a)(l,2),f=m[0],E=m[1],b=Object(r.useRef)(!1);return Object(r.useEffect)((function(){b.current?f?o(t):i(t):b.current=!0}),[f]),c.a.createElement("div",{className:"currencies__list-elem currencies__list-elem--".concat(s)},c.a.createElement("span",{className:"currencies__text"},'1 "',t,'" is equal to: '),c.a.createElement("span",{className:"currencies__equal currencies__text"},n,' "',a,'"'),c.a.createElement("span",{className:"currencies__text"},"Move to selections"," ",c.a.createElement("input",{type:"checkbox",onChange:function(){E(!f)},checked:f})))}))),K=function(e){var t=e.currenciesList,n=e.base,r=e.addToSelected,a=e.removeFromSelected,o=e.selections;return c.a.createElement("div",{className:"currencies"},c.a.createElement("div",{className:" currencies__container container"},c.a.createElement("div",{className:"currencies__selections"},Object.entries(t).filter((function(e){var t=Object(C.a)(e,1)[0];return o.includes(t)})).map((function(e){var t=Object(C.a)(e,2),i=t[0],u=t[1];return c.a.createElement(G,Object.assign({key:i,className:"selected"},{currency:i,value:u,base:n,addToSelected:r,removeFromSelected:a,selections:o}))}))),Object.entries(t).filter((function(e){var t=Object(C.a)(e,1)[0];return!o.includes(t)})).map((function(e){var t=Object(C.a)(e,2),i=t[0],u=t[1];return c.a.createElement(G,Object.assign({key:i},{currency:i,value:u,base:n,addToSelected:r,removeFromSelected:a,selections:o}))}))))},Q=Object(i.b)((function(e){return{currenciesList:w(e),base:D(e),selections:P(e)}}),{addToSelected:function(e){return{type:"ADD_SELECTED_CURRENCY",selected:e}},removeFromSelected:function(e){return{type:"REMOVE_SELECTED_CURRENCY",removed:e}}})((function(e){return c.a.createElement(K,e)})),X=function(){return c.a.createElement("div",null,c.a.createElement(z,null),c.a.createElement(Q,null))};n(41),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(i.a,{store:_},c.a.createElement(g.a,{base:"/"},c.a.createElement(q,null,c.a.createElement(h.c,null,c.a.createElement(h.a,{path:"/currency-converter/",component:z,exact:!0}),c.a.createElement(h.a,{path:"/currencies",component:Q}),c.a.createElement(h.a,{path:"/both",component:X}))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[29,1,2]]]);
//# sourceMappingURL=main.1c25d102.chunk.js.map